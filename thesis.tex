\input{preamble.tex}

\begin{document}

% preamble-like things that need to be after \begin{document} because reasons
\ifbool{printer-friendly}{
    % convert href (which normally hides url with text) to a footnote so you can see it
    \let\oldhref\href\ \renewcommand\href[2]{\oldhref{#1}{#2}\footnote{\url{#1}}}
}{}


\frontmatter \pagenumbering{Roman}  % versus "roman" which is lowercase numerals
    \include{cover_title.tex}
    \ifbool{printer-friendly}{\blankpage}{}
    \epigraph{-}{-}  % TODO: dedication or cool quote
    \include{abstract.tex}
    \include{acknowledgements.tex}
    \include{preface.tex}
    \etocsettocdepth{1} \tableofcontents \etocsettocdepth{all}

\mainmatter
    \part{Introduction}\label{introduction}
        \include{cryo_em.tex}
        \include{cryo_et.tex}
    \part{Results}\label{results}
        \include{blik.tex}
        \include{drad.tex}
        \include{ftsz.tex}
    \part{Discussion}\label{discussion}
        \include{conclusions.tex}
        \include{em_software.tex}
        \include{napari.tex}
        \include{other_projects.tex}

\backmatter
    \bookmarksetup{startatroot}  % end \part in the bookmarks
    \listoffigures
    \listoftables
    \include{glossary.tex}
    \bibliography{./bibliography.bib}

\end{document}

% TODO: make sure chapter have short names for the header and TOCs in []
% TODO: same thing as above but for figures
% TODO: add CV at the end?
% TODO: use tikz for diagram describing blik stuff (surfaces and such)
% TODO: take care of all the overfull/underfull nonsense
% TODO: add quotes for chapters/sections
% TODO: check spelling and maybe run a grammar/syntax checker too.
% TODO: add code to generate figures when possible
% TODO: check all figures are referenced in text
% TODO: check use of nameref/autoref is consistent (use fullref!)
% TODO: memes lol
% TODO: section title case consistency
% TODO: add color to text in captions where relevant?
% TODO: change degrees to symbol \ang{}
% TODO: check that first appearance of acronyms is explained (cryo-et/em, spa, sta, ...)
% TODO: add authors to papers
% TODO: check that micro/mu and other weird chars are fine!!!
% TODO: adjust figures in drad paper if there's time...
% TODO: make sure figures are appearing at the right place! Resize if necessary, or add float barriers.
% TODO: in printed version ensure that authors lines don't go beyond edge
